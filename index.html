<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle Financeiro Pessoal</title>
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="styles/dashboard.css">
    <link rel="stylesheet" href="styles/components.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="logo">
                <h2>ðŸ’° FinanÃ§as</h2>
            </div>
            <ul class="nav-links">
                <li><a href="#" class="nav-link active" data-page="dashboard">ðŸ“Š Dashboard</a></li>
                <li><a href="#" class="nav-link" data-page="receitas">ðŸ’° Receitas</a></li>
                <li><a href="#" class="nav-link" data-page="despesas">ðŸ’¸ Despesas</a></li>
                <li><a href="#" class="nav-link" data-page="futuras">ðŸ“… Futuras</a></li>
                <li><a href="#" class="nav-link" data-page="relatorios">ðŸ“‹ RelatÃ³rios</a></li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Page -->
            <div id="dashboard" class="page active">
                <div class="page-header">
                    <h1>Dashboard Financeiro</h1>
                    <div class="period-selector">
                        <select id="periodSelect">
                            <option value="month">Este MÃªs</option>
                            <option value="year">Este Ano</option>
                            <option value="custom">Personalizado</option>
                        </select>
                    </div>
                </div>

                <!-- Metrics Cards -->
                <div class="metrics-grid">
                    <div class="metric-card income">
                        <div class="metric-header">
                            <h3>Receitas</h3>
                            <span class="metric-icon">ðŸ“ˆ</span>
                        </div>
                        <div class="metric-value" id="totalIncome">R$ 0,00</div>
                        <p class="metric-description">Total de entradas</p>
                    </div>

                    <div class="metric-card expense">
                        <div class="metric-header">
                            <h3>Despesas</h3>
                            <span class="metric-icon">ðŸ“‰</span>
                        </div>
                        <div class="metric-value" id="totalExpenses">R$ 0,00</div>
                        <p class="metric-description">Total de saÃ­das</p>
                    </div>

                    <div class="metric-card balance">
                        <div class="metric-header">
                            <h3>Saldo</h3>
                            <span class="metric-icon">ðŸ’°</span>
                        </div>
                        <div class="metric-value" id="currentBalance">R$ 0,00</div>
                        <p class="metric-description">Receitas - Despesas</p>
                    </div>
                </div>

                <!-- Charts Section -->
                <div class="charts-grid">
                    <div class="chart-card">
                        <h3>EvoluÃ§Ã£o Mensal</h3>
                        <div class="chart-container">
                            <canvas id="monthlyChart"></canvas>
                        </div>
                    </div>

                    <div class="chart-card">
                        <h3>Gastos por Categoria</h3>
                        <div class="chart-container">
                            <canvas id="categoryChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Recent Transactions -->
                <div class="transactions-card">
                    <h3>TransaÃ§Ãµes Recentes</h3>
                    <div class="transactions-list" id="recentTransactions">
                        <!-- Transactions will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Receitas Page -->
            <div id="receitas" class="page">
                <div class="page-header">
                    <h1>Gerenciar Receitas</h1>
                    <button class="btn-primary" id="addRevenueBtn">+ Nova Receita</button>
                </div>

                <div class="revenue-sections">
                    <!-- Receitas Fixas -->
                    <section class="revenue-section">
                        <h2>ðŸ’° Receitas Fixas</h2>
                        <div class="revenue-list" id="fixedRevenueList">
                            <!-- Fixed revenues will be loaded here -->
                        </div>
                    </section>

                    <!-- Receitas VariÃ¡veis -->
                    <section class="revenue-section">
                        <h2>ðŸŽ¯ Receitas VariÃ¡veis</h2>
                        <div class="revenue-list" id="variableRevenueList">
                            <!-- Variable revenues will be loaded here -->
                        </div>
                    </section>
                </div>
            </div>

            <!-- Despesas Page -->
            <div id="despesas" class="page">
                <div class="page-header">
                    <h1>Gerenciar Despesas</h1>
                    <button class="btn-primary" id="addExpenseBtn">+ Nova Despesa</button>
                </div>

                <div class="expense-sections">
                    <!-- Despesas Fixas -->
                    <section class="expense-section">
                        <h2>ðŸ“‹ Despesas Fixas</h2>
                        <div class="expense-list" id="fixedExpenseList">
                            <!-- Fixed expenses will be loaded here -->
                        </div>
                    </section>

                    <!-- Despesas VariÃ¡veis -->
                    <section class="expense-section">
                        <h2>ðŸŽ¯ Despesas VariÃ¡veis</h2>
                        <div class="expense-list" id="variableExpenseList">
                            <!-- Variable expenses will be loaded here -->
                        </div>
                    </section>
                </div>
            </div>

            <!-- Despesas Futuras Page -->
            <div id="futuras" class="page">
                <div class="page-header">
                    <h1>Despesas Futuras</h1>
                    <button class="btn-primary" id="addFutureExpenseBtn">+ Agendar Despesa</button>
                </div>
                <div class="future-expenses-list" id="futureExpensesList">
                    <!-- Future expenses will be loaded here -->
                </div>
            </div>

            <!-- RelatÃ³rios Page -->
            <div id="relatorios" class="page">
                <div class="page-header">
                    <h1>RelatÃ³rios Personalizados</h1>
                    <button class="btn-secondary" id="exportPdfBtn">ðŸ“„ Exportar PDF</button>
                </div>

                <div class="report-filters">
                    <div class="filter-group">
                        <label>PerÃ­odo:</label>
                        <select id="reportPeriod">
                            <option value="month">MÃªs</option>
                            <option value="year">Ano</option>
                            <option value="quarter">Trimestre</option>
                            <option value="semester">Semestre</option>
                            <option value="custom">Personalizado</option>
                        </select>
                    </div>

                    <div class="filter-group" id="customDateFields" style="display: none;">
                        <label>De:</label>
                        <input type="date" id="startDate">
                    </div>

                    <div class="filter-group" id="customDateFieldsEnd" style="display: none;">
                        <label>AtÃ©:</label>
                        <input type="date" id="endDate">
                    </div>

                    <button class="btn-primary" id="generateReportBtn">Gerar RelatÃ³rio</button>
                </div>

                <div class="report-results">
                    <div class="report-charts">
                        <canvas id="reportChart"></canvas>
                    </div>
                    <div class="report-table">
                        <table id="reportDataTable">
                            <!-- Report data will be loaded here -->
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Revenue Modal -->
    <div id="revenueModal" class="modal">
        <div class="modal-content">
            <h3 id="revenueModalTitle">Nova Receita</h3>
            <form id="revenueForm">
                <input type="hidden" id="revenueId">
                <div class="form-group">
                    <label>DescriÃ§Ã£o: <span class="required">*</span></label>
                    <input type="text" id="revenueDescription" required>
                </div>
                <div class="form-group">
                    <label>Valor: <span class="required">*</span></label>
                    <input type="number" id="revenueAmount" step="0.01" required>
                </div>
                <div class="form-group">
                    <label>Data: <span class="required">*</span></label>
                    <input type="date" id="revenueDate" required>
                </div>
                <div class="form-group" id="revenueTypeGroup">
                    <label>Tipo: <span class="required">*</span></label>
                    <select id="revenueType" required>
                        <option value="fixed">Fixa</option>
                        <option value="variable">VariÃ¡vel</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Categoria: <span class="required">*</span></label>
                    <input type="text" id="revenueCategory" required>
                </div>
                <div class="form-group">
                    <label>ObservaÃ§Ãµes:</label>
                    <textarea id="revenueNotes" placeholder="Alguma observaÃ§Ã£o importante..."></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="cancelRevenueBtn">Cancelar</button>
                    <button type="submit" class="btn-primary">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Expense Modal -->
    <div id="expenseModal" class="modal">
        <div class="modal-content">
            <h3 id="expenseModalTitle">Nova Despesa</h3>
            <form id="expenseForm">
                <input type="hidden" id="expenseId">
                
                <div class="form-group">
                    <label>DescriÃ§Ã£o: <span class="required">*</span></label>
                    <input type="text" id="expenseDescription" required>
                </div>
                
                <div class="form-group">
                    <label>Valor: <span class="required">*</span></label>
                    <input type="number" id="expenseAmount" step="0.01" required>
                </div>
                
                <div class="form-group">
                    <label>Data: <span class="required">*</span></label>
                    <input type="date" id="expenseDate" required>
                </div>

                <div class="form-group" id="expenseTypeGroup">
                    <label>Tipo: <span class="required">*</span></label>
                    <select id="expenseType" required>
                        <option value="fixed">Fixa</option>
                        <option value="variable">VariÃ¡vel</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Categoria: <span class="required">*</span></label>
                    <input type="text" id="expenseCategory" required>
                </div>

                <div class="form-group" id="variableFields">
                    <label>Forma de Pagamento:</label>
                    <select id="expensePaymentMethod">
                        <option value="dinheiro">Dinheiro</option>
                        <option value="cartao_credito">CartÃ£o de CrÃ©dito</option>
                        <option value="cartao_debito">CartÃ£o de DÃ©bito</option>
                        <option value="pix">PIX</option>
                        <option value="transferencia">TransferÃªncia</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>ObservaÃ§Ãµes:</label>
                    <textarea id="expenseNotes" placeholder="Alguma observaÃ§Ã£o importante..."></textarea>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="cancelExpenseBtn">Cancelar</button>
                    <button type="submit" class="btn-primary">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="scripts/app.js"></script>
    <script src="scripts/dashboard.js"></script>
    <script src="scripts/receitas.js"></script>
    <script src="scripts/despesas.js"></script>
    <script src="scripts/relatorios.js"></script>
    <script src="data/storage.js"></script>
    <script src="scripts/futuras.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
</body>
</html>